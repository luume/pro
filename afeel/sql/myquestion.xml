<?xml version="1.0" encoding="UTF-8" ?>
<query>
    <myquery id="myquestionList">
        SELECT QUESTION.questionNo, QUESTION.questionData, QUESTION.questionGuideData, QUESTION.questionRegDate, MEMBER.memberBestQ, QUESTION.questionType from QUESTION
        inner join MEMBER where QUESTION.memberNo = MEMBER.memberNo and QUESTION.memberNo = ? ORDER BY questionRegDate DESC
    </myquery>
    <myquery id="myquestionUpdate">
        UPDATE QUESTION SET questionData = ?, questionGuideData = ?, questionRegDate = now() WHERE questionNo = ?
    </myquery>
    <myquery id="myquestionDeleteSet">
        SET foreign_key_checks = 0
    </myquery>
    <myquery id="myquestionDelete">
        DELETE FROM QUESTION WHERE questionNo = ?
    </myquery>

    <myquery id="myquestionRandom">
        SELECT questionNo, questionData, questionGuideData, (select memberGender FROM MEMBER where memberNo=?) as memberGender from QUESTION where questionType=? order by RAND() limit 0,1;
    </myquery>

    <myquery id="regMyquestion">
        INSERT INTO QUESTION(memberNo, questionData, questionGuideData, questionType, questionRegDate) values (?,?,?,?,NOW())
    </myquery>

    <myquery id="selectQuestion">
        select questionData, questionGuideData from QUESTION
        where questionNo = (select questionNo from CHATROOM where chatroomNo = ?)
    </myquery>

    <myquery id="selectAnswer">
        SELECT TEXT_ANSWER.memberNo, TEXT_ANSWER.textAnswerData from QUESTION inner join
        TEXT_ANSWER on QUESTION.questionNo = TEXT_ANSWER.questionNo where TEXT_ANSWER.chatroomNo = ?
    </myquery>

    <myquery id="selectVoiceAnswer">
        SELECT VOICE_ANSWER.memberNo, VOICE_ANSWER.voiceAnswerOriginalFileName from QUESTION inner join
        VOICE_ANSWER on QUESTION.questionNo = VOICE_ANSWER.questionNo where VOICE_ANSWER.chatroomNo = ?;
    </myquery>


</query>
